1) better logging, error logging, exceptions

2) complete phpdoc